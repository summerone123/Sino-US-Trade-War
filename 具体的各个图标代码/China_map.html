<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Charts</title>

</head>
<body>
<script src="lib/echarts.js"></script>
<script src="lib/jquery.js"></script>

<div id="chart-panel" style="width:1200px;height:900px;"></div>

<script type="text/javascript">
    var zhongguo = "data/geo_data/data-1528971808162-BkOXf61WX.json";
    var hainan = "data/geo_data/data-1528971693521-r18nZaybm.json";
    var xizang = "data/geo_data/data-1528970391616-BJeoh2JW7.json";
    var zhejiang = "data/geo_data/data-1528970380661-SkH93h1-m.json";
    var yunnan = "data/geo_data/data-1528970362114-r1MK321WQ.json";
    var xinjiang = "data/geo_data/data-1528970349852-H18u22kWX.json";
    var tianjin = "data/geo_data/data-1528970339987-Hk2wnh1ZX.json";
    var sichuan = "data/geo_data/data-1528970319531-Hy_8n3y-m.json";
    var shanxi = "data/geo_data/data-1528970298351-HyzB32JZ7.json";
    var shangxi = "data/geo_data/data-1528970273819-B1cmnnk-Q.json";
    var shanghai = "data/geo_data/data-1528970254015-HJLfhnyWX.json";
    var shangdong = "data/geo_data/data-1528970240242-Byu-hhybX.json";
    var qinghai = "data/geo_data/data-1528970209434-Bytyh3kZ7.json";
    var ningxia = "data/geo_data/data-1528970150882-SJJ2j2yWQ.json";
    var neimenggu = "data/geo_data/data-1528970102554-HyJKo31bQ.json";
    var liaoning = "data/geo_data/data-1528970052404-BJhHihkbQ.json";
    var jilin = "data/geo_data/data-1528970024458-rkeEjhy-Q.json";
    var jiangxi = "data/geo_data/data-1528969991368-BkkMi31Zm.json";
    var jiangsu = "data/geo_data/data-1528969864934-BJ-qchkWQ.json";
    var hunan = "data/geo_data/data-1528969831328-Sykuqh1bX.json";
    var hubei = "data/geo_data/data-1528969822119-Bk8v93kZ7.json";
    var henan = "data/geo_data/data-1528969802719-HyXIqhk-m.json";
    var heilongjiang = "data/geo_data/data-1528969789631-ryLHcnJbm.json";
    var hebei = "data/geo_data/data-1528969737020-HJWMqhy-Q.json";
    var guizhou = "data/geo_data/data-1528969712502-Hy_g92yZQ.json";
    var guangxi = "data/geo_data/data-1528969706270-HJMg5hkWQ.json";
    var guangdong = "data/geo_data/data-1528969700634-BkT1qn1WQ.json";
    var gansu = "data/geo_data/data-1528969694316-BJLkc2yZX.json";
    var chongqing = "data/geo_data/data-1528969687660-r1ey9nkbX.json";
    var aomen = "data/geo_data/data-1528969612486-rJ4qtnyZm.json";
    var anhui = "data/geo_data/data-1528969607452-Hkk5tnJ-Q.json";
    var beijing = "data/geo_data/data-1528969604941-Hk6Ytn1WQ.json";
    var fujian = "data/geo_data/data-1528969599839-S1OFFn1ZQ.json";
    var xianggang = "data/geo_data/data-1528969589857-S1ROthJWm.json";
    var xndq = "data/geo_data/data-1557305257618-u9r_MYLB3.json";
    var dndq = "data/geo_data/data-1557305208204-sVElzLmwj.json";
    var bfdq = "data/geo_data/data-1557305037747-M2yzertTV.json";
    var dbdq = "data/geo_data/data-1557305200508-0IVhNk-VW.json";
    var hbdq = "data/geo_data/data-1557305215028-0dQoGnALD.json";
    var hddq = "data/geo_data/data-1557305223223-IsWM_q-KG.json";
    var hzdq = "data/geo_data/data-1557305243415-631zJwNTD.json";
    var zxdq = "data/geo_data/data-1557305263157-slY0zSSGu.json";
    var hndq = "data/geo_data/data-1557305235562-3EDB86lB6.json";
    var jsdq = "data/geo_data/data-1557305250256-ESUJzapx2.json";
    var allCtyData = [{
        name: '南京市',
        value: 1
    },
        {
            name: '无锡市',
            value: 1
        },
        {
            name: '徐州市',
            value: 1
        },
        {
            name: '常州市',
            value: 1
        },
        {
            name: '苏州市',
            value: 1
        },
        {
            name: '南通市',
            value: 1
        },
        {
            name: '连云港市',
            value: 1
        },
        {
            name: '淮安市',
            value: 1
        },
        {
            name: '盐城市',
            value: 1
        },
        {
            name: '扬州市',
            value: 1
        },
        {
            name: '镇江市',
            value: 1
        },
        {
            name: '泰州市',
            value: 1
        },
        {
            name: '宿迁市',
            value: 1
        },
        {
            name: '崇明区',
            value: 6
        },
        {
            name: '宝山区',
            value: 6
        },
        {
            name: '嘉定区',
            value: 6
        },
        {
            name: '青浦区',
            value: 6
        },
        {
            name: '松江区',
            value: 6
        },
        {
            name: '金山区',
            value: 6
        },
        {
            name: '浦东新区',
            value: 6
        },
        {
            name: '奉贤区',
            value: 6
        },
        {
            name: '闵行区',
            value: 6
        },
        {
            name: '长宁区',
            value: 6
        },
        {
            name: '普陀区',
            value: 6
        },
        {
            name: '徐汇区',
            value: 6
        },
        {
            name: '黄浦区',
            value: 6
        },
        {
            name: '静安区',
            value: 6
        },
        {
            name: '虹口区',
            value: 6
        },
        {
            name: '杨浦区',
            value: 6
        },
        {
            name: '广州市',
            value: 3
        },
        {
            name: '深圳市',
            value: 3
        },
        {
            name: '珠海市',
            value: 3
        },
        {
            name: '佛山市',
            value: 3
        },
        {
            name: '江门市',
            value: 3
        },
        {
            name: '肇庆市',
            value: 3
        },
        {
            name: '惠州市',
            value: 3
        },
        {
            name: '东莞市',
            value: 3
        },
        {
            name: '中山市',
            value: 3
        },
        {
            name: '湛江市',
            value: 3
        },
        {
            name: '茂名市',
            value: 3
        },
        {
            name: '阳江市',
            value: 3
        },
        {
            name: '云浮市',
            value: 3
        },
        {
            name: '汕头市',
            value: 3
        },
        {
            name: '汕尾市',
            value: 3
        },
        {
            name: '潮州市',
            value: 3
        },
        {
            name: '揭阳市',
            value: 3
        },
        {
            name: '韶关市',
            value: 3
        },
        {
            name: '梅州市',
            value: 3
        },
        {
            name: '河源市',
            value: 3
        },
        {
            name: '清远市',
            value: 3
        },
        {
            name: '南宁市',
            value: 6
        },
        {
            name: '柳州市',
            value: 6
        },
        {
            name: '桂林市',
            value: 6
        },
        {
            name: '梧州市',
            value: 6
        },
        {
            name: '北海市',
            value: 6
        },
        {
            name: '防城港市',
            value: 6
        },
        {
            name: '钦州市',
            value: 6
        },
        {
            name: '贵港市',
            value: 6
        },
        {
            name: '玉林市',
            value: 6
        },
        {
            name: '百色市',
            value: 6
        },
        {
            name: '贺州市',
            value: 6
        },
        {
            name: '河池市',
            value: 6
        },
        {
            name: '来宾市',
            value: 6
        },
        {
            name: '崇左市',
            value: 6
        },
        {
            name: '郴州市',
            value: 6
        },
        {
            name: '海口市',
            value: 7
        },
        {
            name: '三亚市',
            value: 7
        },
        {
            name: '三沙市',
            value: 7
        },
        {
            name: '五指山市',
            value: 7
        },
        {
            name: '琼海市',
            value: 7
        },
        {
            name: '儋州市',
            value: 7
        },
        {
            name: '文昌市',
            value: 7
        },
        {
            name: '万宁市',
            value: 7
        },
        {
            name: '东方市',
            value: 7
        },
        {
            name: '澄迈县',
            value: 7
        },
        {
            name: '定安县',
            value: 7
        },
        {
            name: '屯昌县',
            value: 7
        },
        {
            name: '临高县',
            value: 7
        },
        {
            name: '白沙黎族自治县',
            value: 7
        },
        {
            name: '昌江黎族自治县',
            value: 7
        },
        {
            name: '乐东黎族自治县',
            value: 7
        },
        {
            name: '陵水黎族自治县',
            value: 7
        },
        {
            name: '保亭黎族苗族自治县',
            value: 7
        },
        {
            name: '琼中黎族苗族自治县',
            value: 7
        },
        {
            name: '郑州市',
            value: 7
        },
        {
            name: '开封市',
            value: 7
        },
        {
            name: '洛阳市',
            value: 7
        },
        {
            name: '平顶山市',
            value: 7
        },
        {
            name: '安阳市',
            value: 7
        },
        {
            name: '鹤壁市',
            value: 7
        },
        {
            name: '新乡市',
            value: 7
        },
        {
            name: '焦作市',
            value: 7
        },
        {
            name: '濮阳市',
            value: 7
        },
        {
            name: '许昌市',
            value: 7
        },
        {
            name: '漯河市',
            value: 7
        },
        {
            name: '三门峡市',
            value: 7
        },
        {
            name: '南阳市',
            value: 7
        },
        {
            name: '商丘市',
            value: 7
        },
        {
            name: '信阳市',
            value: 7
        },
        {
            name: '周口市',
            value: 7
        },
        {
            name: '驻马店市',
            value: 7
        },
        {
            name: '济源市',
            value: 7
        },
        {
            name: '西安市',
            value: 8
        },
        {
            name: '商洛市',
            value: 8
        },
        {
            name: '铜川市',
            value: 8
        },
        {
            name: '宝鸡市',
            value: 8
        },
        {
            name: '咸阳市',
            value: 8
        },
        {
            name: '渭南市',
            value: 8
        },
        {
            name: '延安市',
            value: 8
        },
        {
            name: '汉中市',
            value: 8
        },
        {
            name: '榆林市',
            value: 8
        },
        {
            name: '安康市',
            value: 8
        },
        {
            name: '兰州市',
            value: 9
        },
        {
            name: '金昌市',
            value: 9
        },
        {
            name: '白银市',
            value: 9
        },
        {
            name: '天水市',
            value: 9
        },
        {
            name: '嘉峪关市',
            value: 9
        },
        {
            name: '武威市',
            value: 9
        },
        {
            name: '张掖市',
            value: 9
        },
        {
            name: '平凉市',
            value: 9
        },
        {
            name: '酒泉市',
            value: 9
        },
        {
            name: '庆阳市',
            value: 9
        },
        {
            name: '定西市',
            value: 9
        },
        {
            name: '陇南市',
            value: 9
        },
        {
            name: '临夏回族自治州',
            value: 9
        },
        {
            name: '甘南藏族自治州',
            value: 9
        },
        {
            name: '西宁市',
            value: 10
        },
        {
            name: '海东市',
            value: 10
        },
        {
            name: '海北藏族自治州',
            value: 10
        },
        {
            name: '黄南藏族自治州',
            value: 10
        },
        {
            name: '海南藏族自治州',
            value: 10
        },
        {
            name: '果洛藏族自治州',
            value: 10
        },
        {
            name: '玉树藏族自治州',
            value: 10
        },
        {
            name: '海西蒙古族藏族自治州',
            value: 10
        },
        {
            name: '长沙市',
            value: 6
        },
        {
            name: '株洲市',
            value: 6
        },
        {
            name: '湘潭市',
            value: 6
        },
        {
            name: '衡阳市',
            value: 6
        },
        {
            name: '邵阳市',
            value: 6
        },
        {
            name: '岳阳市',
            value: 6
        },
        {
            name: '常德市',
            value: 6
        },
        {
            name: '张家界市',
            value: 6
        },
        {
            name: '益阳市',
            value: 6
        },
        {
            name: '永州市',
            value: 6
        },
        {
            name: '怀化市',
            value: 6
        },
        {
            name: '娄底市',
            value: 6
        },
        {
            name: '湘西土家族苗族自治州',
            value: 6
        },
        {
            name: '武汉市',
            value: 7
        },
        {
            name: '襄阳市',
            value: 7
        },
        {
            name: '黄石市',
            value: 7
        },
        {
            name: '十堰市',
            value: 7
        },
        {
            name: '荆州市',
            value: 7
        },
        {
            name: '宜昌市',
            value: 7
        },
        {
            name: '襄樊市',
            value: 7
        },
        {
            name: '鄂州市',
            value: 7
        },
        {
            name: '荆门市',
            value: 7
        },
        {
            name: '孝感市',
            value: 7
        },
        {
            name: '黄冈市',
            value: 7
        },
        {
            name: '咸宁市',
            value: 7
        },
        {
            name: '随州市',
            value: 7
        },
        {
            name: '仙桃市',
            value: 7
        },
        {
            name: '天门市',
            value: 7
        },
        {
            name: '潜江市',
            value: 7
        },
        {
            name: '神农架林区',
            value: 7
        },
        {
            name: '恩施土家族苗族自治州',
            value: 7
        },
        {
            name: '南昌市',
            value: 8
        },
        {
            name: '景德镇市',
            value: 8
        },
        {
            name: '萍乡市',
            value: 8
        },
        {
            name: '九江市',
            value: 8
        },
        {
            name: '新余市',
            value: 8
        },
        {
            name: '鹰潭市',
            value: 8
        },
        {
            name: '赣州市',
            value: 8
        },
        {
            name: '吉安市',
            value: 8
        },
        {
            name: '宜春市',
            value: 8
        },
        {
            name: '抚州市',
            value: 8
        },
        {
            name: '上饶市',
            value: 8
        },
        {
            name: '济南市',
            value: 6
        },
        {
            name: '青岛市',
            value: 6
        },
        {
            name: '淄博市',
            value: 6
        },
        {
            name: '枣庄市',
            value: 6
        },
        {
            name: '东营市',
            value: 6
        },
        {
            name: '烟台市',
            value: 6
        },
        {
            name: '潍坊市',
            value: 6
        },
        {
            name: '济宁市',
            value: 6
        },
        {
            name: '泰安市',
            value: 6
        },
        {
            name: '威海市',
            value: 6
        },
        {
            name: '日照市',
            value: 6
        },
        {
            name: '莱芜市',
            value: 6
        },
        {
            name: '临沂市',
            value: 6
        },
        {
            name: '德州市',
            value: 6
        },
        {
            name: '聊城市',
            value: 6
        },
        {
            name: '滨州市',
            value: 6
        },
        {
            name: '菏泽市',
            value: 6
        },
        {
            name: '合肥市',
            value: 8
        },
        {
            name: '芜湖市',
            value: 8
        },
        {
            name: '蚌埠市',
            value: 8
        },
        {
            name: '淮南市',
            value: 8
        },
        {
            name: '马鞍山市',
            value: 8
        },
        {
            name: '淮北市',
            value: 8
        },
        {
            name: '铜陵市',
            value: 8
        },
        {
            name: '安庆市',
            value: 8
        },
        {
            name: '黄山市',
            value: 8
        },
        {
            name: '滁州市',
            value: 8
        },
        {
            name: '阜阳市',
            value: 8
        },
        {
            name: '宿州市',
            value: 8
        },
        {
            name: '巢湖市',
            value: 8
        },
        {
            name: '六安市',
            value: 8
        },
        {
            name: '亳州市',
            value: 8
        },
        {
            name: '池州市',
            value: 8
        },
        {
            name: '宣城市',
            value: 8
        },
        {
            name: '石家庄市',
            value: 6
        },
        {
            name: '唐山市',
            value: 6
        },
        {
            name: '秦皇岛市',
            value: 6
        },
        {
            name: '邯郸市',
            value: 6
        },
        {
            name: '邢台市',
            value: 6
        },
        {
            name: '保定市',
            value: 6
        },
        {
            name: '张家口市',
            value: 6
        },
        {
            name: '承德市',
            value: 6
        },
        {
            name: '沧州市',
            value: 6
        },
        {
            name: '廊坊市',
            value: 6
        },
        {
            name: '衡水市',
            value: 6
        },
        {
            name: '东城区',
            value: 8
        },
        {
            name: '西城区',
            value: 8
        },
        {
            name: '朝阳区',
            value: 8
        },
        {
            name: '丰台区',
            value: 8
        },
        {
            name: '石景山区',
            value: 8
        },
        {
            name: '海淀区',
            value: 8
        },
        {
            name: '门头沟区',
            value: 8
        },
        {
            name: '房山区',
            value: 8
        },
        {
            name: '通州区',
            value: 8
        },
        {
            name: '顺义区',
            value: 8
        },
        {
            name: '昌平区',
            value: 8
        },
        {
            name: '大兴区',
            value: 8
        },
        {
            name: '怀柔区',
            value: 8
        },
        {
            name: '平谷区',
            value: 8
        },
        {
            name: '密云区',
            value: 8
        },
        {
            name: '延庆区',
            value: 8
        },
        {
            name: '和平区',
            value: 7
        },
        {
            name: '河东区',
            value: 7
        },
        {
            name: '河西区',
            value: 7
        },
        {
            name: '南开区',
            value: 7
        },
        {
            name: '河北区',
            value: 7
        },
        {
            name: '红桥区',
            value: 7
        },
        {
            name: '东丽区',
            value: 7
        },
        {
            name: '西青区',
            value: 7
        },
        {
            name: '津南区',
            value: 7
        },
        {
            name: '北辰区',
            value: 7
        },
        {
            name: '武清区',
            value: 7
        },
        {
            name: '宝坻区',
            value: 7
        },
        {
            name: '滨海新区',
            value: 7
        },
        {
            name: '宁河区',
            value: 7
        },
        {
            name: '静海区',
            value: 7
        },
        {
            name: '蓟州区',
            value: 7
        },
        {
            name: '哈尔滨市',
            value: 6
        },
        {
            name: '齐齐哈尔市',
            value: 6
        },
        {
            name: '鹤岗市',
            value: 6
        },
        {
            name: '双鸭山市',
            value: 6
        },
        {
            name: '鸡西市',
            value: 6
        },
        {
            name: '大庆市',
            value: 6
        },
        {
            name: '伊春市',
            value: 6
        },
        {
            name: '牡丹江市',
            value: 6
        },
        {
            name: '佳木斯市',
            value: 6
        },
        {
            name: '七台河市',
            value: 6
        },
        {
            name: '黑河市',
            value: 6
        },
        {
            name: '绥化市',
            value: 6
        },
        {
            name: '大兴安岭地区',
            value: 6
        },
        {
            name: '长春市',
            value: 7
        },
        {
            name: '吉林市',
            value: 7
        },
        {
            name: '四平市',
            value: 7
        },
        {
            name: '辽源市',
            value: 7
        },
        {
            name: '通化市',
            value: 7
        },
        {
            name: '白山市',
            value: 7
        },
        {
            name: '松原市',
            value: 7
        },
        {
            name: '白城市',
            value: 7
        },
        {
            name: '延边朝鲜族自治州',
            value: 7
        },
        {
            name: '沈阳市',
            value: 8
        },
        {
            name: '大连市',
            value: 8
        },
        {
            name: '鞍山市',
            value: 8
        },
        {
            name: '抚顺市',
            value: 8
        },
        {
            name: '本溪市',
            value: 8
        },
        {
            name: '丹东市',
            value: 8
        },
        {
            name: '锦州市',
            value: 8
        },
        {
            name: '营口市',
            value: 8
        },
        {
            name: '阜新市',
            value: 8
        },
        {
            name: '辽阳市',
            value: 8
        },
        {
            name: '盘锦市',
            value: 8
        },
        {
            name: '铁岭市',
            value: 8
        },
        {
            name: '朝阳市',
            value: 8
        },
        {
            name: '葫芦岛市',
            value: 8
        },
        {
            name: '呼和浩特市',
            value: 6
        },
        {
            name: '包头市',
            value: 6
        },
        {
            name: '乌海市',
            value: 6
        },
        {
            name: '赤峰市',
            value: 6
        },
        {
            name: '通辽市',
            value: 6
        },
        {
            name: '鄂尔多斯市',
            value: 6
        },
        {
            name: '呼伦贝尔市',
            value: 6
        },
        {
            name: '巴彦淖尔市',
            value: 6
        },
        {
            name: '乌兰察布市',
            value: 6
        },
        {
            name: '锡林郭勒盟',
            value: 6
        },
        {
            name: '兴安盟',
            value: 6
        },
        {
            name: '阿拉善盟',
            value: 6
        },
        {
            name: '太原市',
            value: 7
        },
        {
            name: '大同市',
            value: 7
        },
        {
            name: '阳泉市',
            value: 7
        },
        {
            name: '长治市',
            value: 7
        },
        {
            name: '晋城市',
            value: 7
        },
        {
            name: '朔州市',
            value: 7
        },
        {
            name: '晋中市',
            value: 7
        },
        {
            name: '运城市',
            value: 7
        },
        {
            name: '忻州市',
            value: 7
        },
        {
            name: '临汾市',
            value: 7
        },
        {
            name: '吕梁市',
            value: 7
        },
        {
            name: '乌鲁木齐市',
            value: 8
        },
        {
            name: '北屯市',
            value: 8
        },
        {
            name: '克拉玛依市',
            value: 8
        },
        {
            name: '石河子市',
            value: 8
        },
        {
            name: '阿拉尔市',
            value: 8
        },
        {
            name: '图木舒克市',
            value: 8
        },
        {
            name: '五家渠市',
            value: 8
        },
        {
            name: '吐鲁番市',
            value: 8
        },
        {
            name: '阿克苏地区',
            value: 8
        },
        {
            name: '喀什地区',
            value: 8
        },
        {
            name: '哈密市',
            value: 8
        },
        {
            name: '和田地区',
            value: 8
        },
        {
            name: '阿图什市',
            value: 8
        },
        {
            name: '库尔勒市',
            value: 8
        },
        {
            name: '昌吉市',
            value: 8
        },
        {
            name: '阜康市',
            value: 8
        },
        {
            name: '米泉市',
            value: 8
        },
        {
            name: '博乐市',
            value: 8
        },
        {
            name: '伊宁市',
            value: 8
        },
        {
            name: '奎屯市',
            value: 8
        },
        {
            name: '塔城地区',
            value: 8
        },
        {
            name: '乌苏市',
            value: 8
        },
        {
            name: '阿勒泰地区',
            value: 8
        },
        {
            name: '双河市',
            value: 8
        },
        {
            name: '可克达拉市',
            value: 8
        },
        {
            name: '铁门关市',
            value: 8
        },
        {
            name: '昆玉市',
            value: 8
        },
        {
            name: '昌吉回族自治州',
            value: 8
        },
        {
            name: '伊犁哈萨克自治州',
            value: 8
        },
        {
            name: '博尔塔拉蒙古自治州',
            value: 8
        },
        {
            name: '巴音郭楞蒙古自治州',
            value: 8
        },
        {
            name: '克孜勒苏柯尔克孜自治州',
            value: 8
        },
        {
            name: '银川市',
            value: 3
        },
        {
            name: '石嘴山市',
            value: 3
        },
        {
            name: '吴忠市',
            value: 3
        },
        {
            name: '固原市',
            value: 3
        },
        {
            name: '中卫市',
            value: 3
        },
        {
            name: '福州市',
            value: 6
        },
        {
            name: '厦门市',
            value: 6
        },
        {
            name: '莆田市',
            value: 6
        },
        {
            name: '三明市',
            value: 6
        },
        {
            name: '泉州市',
            value: 6
        },
        {
            name: '漳州市',
            value: 6
        },
        {
            name: '南平市',
            value: 6
        },
        {
            name: '龙岩市',
            value: 6
        },
        {
            name: '宁德市',
            value: 6
        },
        {
            name: '杭州市',
            value: 8
        },
        {
            name: '宁波市',
            value: 8
        },
        {
            name: '温州市',
            value: 8
        },
        {
            name: '嘉兴市',
            value: 8
        },
        {
            name: '湖州市',
            value: 8
        },
        {
            name: '绍兴市',
            value: 8
        },
        {
            name: '金华市',
            value: 8
        },
        {
            name: '衢州市',
            value: 8
        },
        {
            name: '舟山市',
            value: 8
        },
        {
            name: '台州市',
            value: 8
        },
        {
            name: '丽水市',
            value: 8
        },
        {
            name: '拉萨市',
            value: 6
        },
        {
            name: '那曲地区',
            value: 6
        },
        {
            name: '昌都市',
            value: 6
        },
        {
            name: '山南地区',
            value: 6
        },
        {
            name: '日喀则市',
            value: 6
        },
        {
            name: '阿里地区',
            value: 6
        },
        {
            name: '林芝市',
            value: 6
        },
        {
            name: '贵阳市',
            value: 9
        },
        {
            name: '盘州市',
            value: 9
        },
        {
            name: '水城县',
            value: 9
        },
        {
            name: '赤水市',
            value: 9
        },
        {
            name: '仁怀市桐梓县',
            value: 9
        },
        {
            name: '绥阳县',
            value: 9
        },
        {
            name: '正安县',
            value: 9
        },
        {
            name: '道真县',
            value: 9
        },
        {
            name: '务川县',
            value: 9
        },
        {
            name: '凤冈县',
            value: 9
        },
        {
            name: '湄潭县',
            value: 9
        },
        {
            name: '习水县',
            value: 9
        },
        {
            name: '余庆县',
            value: 9
        },
        {
            name: '安顺市',
            value: 9
        },
        {
            name: '六盘水市',
            value: 9
        },
        {
            name: '铜仁市',
            value: 9
        },
        {
            name: '毕节市',
            value: 9
        },
        {
            name: '遵义市',
            value: 9
        },
        {
            name: '黔西南布依族苗族自治州',
            value: 9
        },
        {
            name: '黔东南苗族侗族自治州',
            value: 9
        },
        {
            name: '黔南布依族苗族自治州',
            value: 9
        },
        {
            name: '昆明市',
            value: 8
        },
        {
            name: '曲靖市',
            value: 8
        },
        {
            name: '玉溪市',
            value: 8
        },
        {
            name: '保山市',
            value: 8
        },
        {
            name: '昭通市',
            value: 8
        },
        {
            name: '丽江市',
            value: 8
        },
        {
            name: '思茅市',
            value: 8
        },
        {
            name: '临沧市',
            value: 8
        },
        {
            name: '思茅市',
            value: 8
        },
        {
            name: '文山壮族苗族自治州',
            value: 8
        },
        {
            name: '红河哈尼族彝族自治州',
            value: 8
        },
        {
            name: '西双版纳傣族自治州',
            value: 8
        },
        {
            name: '楚雄彝族自治州',
            value: 8
        },
        {
            name: '大理白族自治州',
            value: 8
        },
        {
            name: '德宏傣族景颇族自治州',
            value: 8
        },
        {
            name: '怒江傈僳族自治州',
            value: 8
        },
        {
            name: '迪庆藏族自治州',
            value: 8
        },
        {
            name: '普洱市',
            value: 8
        },
        {
            name: '秀山土家族苗族自治县',
            value: 4
        },
        {
            name: '酉阳土家族苗族自治县',
            value: 4
        },
        {
            name: '黔江区',
            value: 4
        },
        {
            name: '彭水苗族土家族自治县',
            value: 4
        },
        {
            name: '武隆县',
            value: 4
        },
        {
            name: '南川区',
            value: 4
        },
        {
            name: '江津区',
            value: 4
        },
        {
            name: '永川区',
            value: 4
        },
        {
            name: '涪陵区',
            value: 4
        },
        {
            name: '云阳县',
            value: 4
        },
        {
            name: '奉节县',
            value: 4
        },
        {
            name: '巫山县',
            value: 4
        },
        {
            name: '巫溪县',
            value: 4
        },
        {
            name: '开县',
            value: 4
        },
        {
            name: '城口县',
            value: 4
        },
        {
            name: '万州区',
            value: 4
        },
        {
            name: '垫江县',
            value: 4
        },
        {
            name: '长寿区',
            value: 4
        },
        {
            name: '梁平县',
            value: 4
        },
        {
            name: '忠县',
            value: 4
        },
        {
            name: '丰都县',
            value: 4
        },
        {
            name: '石柱土家族自治县',
            value: 4
        },
        {
            name: '潼南区',
            value: 4
        },
        {
            name: '大足区',
            value: 4
        },
        {
            name: '荣昌区',
            value: 4
        },
        {
            name: '合川区',
            value: 4
        },
        {
            name: '铜梁区',
            value: 4
        },
        {
            name: '璧山区',
            value: 4
        },
        {
            name: '綦江区',
            value: 4
        },
        {
            name: '巴南区',
            value: 4
        },
        {
            name: '大渡口区',
            value: 4
        },
        {
            name: '九龙坡区',
            value: 4
        },
        {
            name: '沙坪坝区',
            value: 4
        },
        {
            name: '江北区',
            value: 4
        },
        {
            name: '南岸区',
            value: 4
        },
        {
            name: '渝北区',
            value: 4
        },
        {
            name: '北碚区',
            value: 4
        },
        {
            name: '成都市',
            value: 2
        },
        {
            name: '自贡市',
            value: 2
        },
        {
            name: '攀枝花市',
            value: 2
        },
        {
            name: '泸州市',
            value: 2
        },
        {
            name: '德阳市',
            value: 2
        },
        {
            name: '绵阳市',
            value: 2
        },
        {
            name: '广元市',
            value: 2
        },
        {
            name: '遂宁市',
            value: 2
        },
        {
            name: '内江市',
            value: 2
        },
        {
            name: '乐山市',
            value: 2
        },
        {
            name: '南充市',
            value: 2
        },
        {
            name: '眉山市',
            value: 2
        },
        {
            name: '宜宾市',
            value: 2
        },
        {
            name: '广安市',
            value: 2
        },
        {
            name: '达州市',
            value: 2
        },
        {
            name: '雅安市',
            value: 2
        },
        {
            name: '巴中市',
            value: 2
        },
        {
            name: '资阳市',
            value: 2
        },
        {
            name: '阿坝藏族羌族自治州',
            value: 2
        },
        {
            name: '甘孜藏族自治州',
            value: 2
        },
        {
            name: '凉山彝族自治州',
            value: 2
        }
    ];
    var allprovinceData = [{
        name: "黑龙江",
        value: 7,
    },
        {
            name: "吉林",
            value: 7,
        },
        {
            name: "辽宁",
            value: 7,
        },
        {
            name: "上海",
            value: 1,
        },
        {
            name: "江苏",
            value: 1,
        },
        {
            name: "浙江",
            value: 9,
        },
        {
            name: "安徽",
            value: 5,
        },
        {
            name: "福建",
            value: 9,
        },
        {
            name: "江西",
            value: 4,
        },
        {
            name: "山东",
            value: 5,
        },
        {
            name: "台湾",
            value: 11,
        },
        {
            name: "北京",
            value: 6,
        },
        {
            name: "天津",
            value: 6,
        },
        {
            name: "山西",
            value: 8,
        },
        {
            name: "河北",
            value: 6,
        },
        {
            name: "内蒙古",
            value: 8,
        },
        {
            name: "河南",
            value: 3,
        },
        {
            name: "湖北",
            value: 4,
        },
        {
            name: "湖南",
            value: 4,
        },
        {
            name: "广东",
            value: 2,
        },
        {
            name: "广西",
            value: 2,
        },
        {
            name: "海南",
            value: 2,
        },
        {
            name: "香港",
            value: 2,
        },
        {
            name: "澳门",
            value: 2,
        },
        {
            name: "重庆",
            value: 10,
        },
        {
            name: "四川",
            value: 10,
        },
        {
            name: "贵州",
            value: 10,
        },
        {
            name: "云南",
            value: 10,
        },
        {
            name: "西藏",
            value: 10,
        },
        {
            name: "陕西",
            value: 3,
        },
        {
            name: "甘肃",
            value: 3,
        },
        {
            name: "青海",
            value: 3,
        },
        {
            name: "宁夏",
            value: 8,
        },
        {
            name: "新疆",
            value: 8,
        },
        {
            name: "南海诸岛",
            value: 11,
        }
    ];
    var areaProjects = [{
        city: '辽宁',
        name: "东北",
        merge: (Math.random() * 100).toFixed(2),
        dataone: (Math.random() * 100).toFixed(2),
        datatwo: (Math.random() * 100).toFixed(2)
    },
        {
            city: '黑龙江',
            name: "东北",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '吉林',
            name: "东北",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '内蒙古',
            name: "北方",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '山西',
            name: "北方",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '新疆',
            name: "北方",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '宁夏',
            name: "北方",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '北京',
            name: "华北",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '河北',
            name: "华北",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '天津',
            name: "华北",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '山东',
            name: "华东",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '安徽',
            name: "华东",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '河南',
            name: "中西",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '陕西',
            name: "中西",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '甘肃',
            name: "中西",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '青海',
            name: "中西",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '江苏',
            name: "江苏",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '上海',
            name: "江苏",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '湖北',
            name: "华中",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '湖南',
            name: "华中",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '江西',
            name: "华中",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '四川',
            name: "西南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '西藏',
            name: "西南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '云南',
            name: "西南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '重庆',
            name: "西南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '贵州',
            name: "西南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '福建',
            name: "东南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '浙江',
            name: "东南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '广东',
            name: "华南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '广西',
            name: "华南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        },
        {
            city: '海南',
            name: "华南",
            merge: (Math.random() * 100).toFixed(2),
            dataone: (Math.random() * 100).toFixed(2),
            datatwo: (Math.random() * 100).toFixed(2)
        }
    ];
    var provinceProJects = [{
        city: '河南',
        name: "河南1",
        dataone: 2.0,
        datatwo: 0.0
    },
        {
            city: '河南',
            name: "河南2",
            dataone: 103.0,
            datatwo: 0.0
        },
        {
            city: '河南',
            name: "河南3",
            dataone: 27.0,
            datatwo: 0.0
        }
    ];

    echarts.extendsMap = function (id, opt) {
        // 实例
        var chart = this.init(document.getElementById(id));

        var curGeoJson = {};
        var cityMap = {
            '中国': zhongguo,
            '上海': jsdq,
            '河北': hbdq,
            '山西': bfdq,
            '内蒙古': bfdq,
            '辽宁': dbdq,
            '吉林': dbdq,
            '黑龙江': dbdq,
            '江苏': jsdq,
            '浙江': dndq,
            '安徽': hddq,
            '福建': dndq,
            '江西': hzdq,
            '山东': hddq,
            '河南': zxdq,
            '湖北': hzdq,
            '湖南': hzdq,
            '广东': hndq,
            '广西': hndq,
            '海南': hndq,
            '四川': xndq,
            '贵州': xndq,
            '云南': xndq,
            '西藏': xndq,
            '陕西': zxdq,
            '甘肃': zxdq,
            '青海': zxdq,
            '宁夏': bfdq,
            '新疆': bfdq,
            '北京': hbdq,
            '天津': hbdq,
            '重庆': xndq,
            '香港': xianggang,
            '澳门': aomen
        };
        var geoCoordMap = {
            "东北": [123.38, 41.8],
            "北方": [111.65, 40.82],
            "华北": [116.46, 39.92],
            "华东": [117, 36.65],
            "中西": [113.65, 34.76],
            "江苏": [118.78, 32.04],
            "华中": [114.31, 30.52],
            "西南": [104.06, 30.67],
            "东南": [119.3, 26.08],
            "华南": [113.23, 23.16],
            "河南1": [112.586911, 32.718346],
            "河南2": [112.812566, 32.70498],
            "河南3": [113.361286, 33.632491],
        };

        var levelColorMap = {
            '1': 'rgba(241, 109, 115, .8)',
            '2': 'rgba(255, 235, 59, .7)',
            '3': 'rgba(147, 235, 248, 1)'
        };

        var defaultOpt = {
            mapName: 'china', // 地图展示
            goDown: false, // 是否下钻
            bgColor: '#404a59', // 画布背景色
            activeArea: [], // 区域高亮,同echarts配置项
            data: [],
            // 下钻回调(点击的地图名、实例对象option、实例对象)
            callback: function (name, option, instance) {
            }
        };
        if (opt) opt = this.util.extend(defaultOpt, opt);

        // 层级索引
        var name = [opt.mapName];
        var idx = 0;
        var pos = {
            leftPlus: 115,
            leftCur: 150,
            left: 198,
            top: 50
        };

        var line = [
            [0, 0],
            [8, 11],
            [0, 22]
        ];
        // style
        var style = {
            font: '18px "Microsoft YaHei", sans-serif',
            textColor: '#eee',
            lineColor: 'rgba(147, 235, 248, .8)'
        };

        var handleEvents = {
            /**
             * i 实例对象
             * o option
             * n 地图名
             **/
            resetOption: function (i, o, n) {
                //var breadcrumb = this.createBreadcrumb(n);
                var breadcrumb = null;
                if (n == ("江苏") || n == ("上海")) {
                    breadcrumb = this.createBreadcrumb("江苏大区");
                } else if (n == ("江苏") || n == ("广东") || n == ("广西") || n == ("海南")) {
                    breadcrumb = this.createBreadcrumb("华南大区");
                } else if (n == ("河南") || n == ("陕西") || n == ("甘肃") || n == ("青海")) {
                    breadcrumb = this.createBreadcrumb("中西大区");
                } else if (n == ("湖北") || n == ("江西") || n == ("湖南")) {
                    breadcrumb = this.createBreadcrumb("华中大区");
                } else if (n == ("山东") || n == ("安徽")) {
                    breadcrumb = this.createBreadcrumb("华东大区");
                } else if (n == ("北京") || n == ("河北") || n == ("天津")) {
                    breadcrumb = this.createBreadcrumb("华北大区");
                } else if (n == ("黑龙江") || n == ("吉林") || n == ("辽宁")) {
                    breadcrumb = this.createBreadcrumb("东北大区");
                } else if (n == ("内蒙古") || n == ("山西") || n == ("新疆") || n == ("宁夏")) {
                    breadcrumb = this.createBreadcrumb("北方大区");
                } else if (n == ("浙江") || n == ("福建")) {
                    breadcrumb = this.createBreadcrumb("东南大区");
                } else if (n == ("四川") || n == ("西藏") || n == ("重庆") || n == ("云南") || n == ("贵州")) {
                    breadcrumb = this.createBreadcrumb("西南大区");
                }
                if (breadcrumb != null) {
                    breadcrumb.left = 265;
                }

                var j = name.indexOf(n);
                var l = o.graphic.length;
                if (j < 0) {
                    o.graphic.push(breadcrumb);
                    o.graphic[0].children[0].shape.x2 = 170;
                    o.graphic[0].children[1].shape.x2 = 170;
                    if (o.graphic.length > 2) {
                        var cityData = [];
                        var cityJson;
                        for (var x = 0; x < opt.data.length; x++) {
                            if (n === opt.data[x].city) {
                                $([opt.data[x]]).each(function (index, data) {
                                    cityJson = {
                                        city: data.city,
                                        name: data.name,
                                        value: data.value,
                                        crew: data.crew,
                                        company: data.company,
                                        position: data.position,
                                        region: data.region,
                                        merge: data.merge,
                                        dataone: data.dataone,
                                        datatwo: data.datatwo
                                    };
                                    cityData.push(cityJson)
                                })
                            }
                        }

                        if (cityData != null) {
                            o.series[0].data = handleEvents.initSeriesData(cityData);
                        } else {
                            o.series[0].data = [];
                        }


                    }
                    name.push(n);
                    idx++;
                } else {
                    o.graphic.splice(j + 2, l);
                    if (o.graphic.length <= 2) {
                        o.graphic[0].children[0].shape.x2 = 60;
                        o.graphic[0].children[1].shape.x2 = 60;
                        o.series[0].data = handleEvents.initSeriesData(opt.data);
                    }
                    ;
                    name.splice(j + 1, l);
                    idx = j;
                    pos.leftCur -= pos.leftPlus * (l - j - 1);
                }
                ;

                o.geo.map = n;
                o.geo.zoom = 0.4;
                i.clear();
                i.setOption(o);
                this.zoomAnimation();
                opt.callback(n, o, i);
            },

            /**
             * name 地图名
             **/
            createBreadcrumb: function (name) {
                var cityToPinyin = {
                    '中国': 'zhongguo',
                    '上海': 'shanghai',
                    '河北': 'hebei',
                    '山西': 'shangxi',
                    '内蒙古': 'neimenggu',
                    '辽宁': 'liaoning',
                    '吉林': 'jilin',
                    '黑龙江': 'heilongjiang',
                    '江苏': 'jiangsu',
                    '浙江': 'zhejiang',
                    '安徽': 'anhui',
                    '福建': 'fujian',
                    '江西': 'jiangxi',
                    '山东': 'shangdong',
                    '河南': 'henan',
                    '湖北': 'hubei',
                    '湖南': 'hunan',
                    '广东': 'guangdong',
                    '广西': 'guangxi',
                    '海南': 'hainan',
                    '四川': 'sichuan',
                    '贵州': 'guizhou',
                    '云南': 'yunnan',
                    '西藏': 'xizang',
                    '陕西': 'shanxi',
                    '甘肃': 'gansu',
                    '青海': 'qinghai',
                    '宁夏': 'ningxia',
                    '新疆': 'xinjiang',
                    '北京': 'beijing',
                    '天津': 'tianjin',
                    '重庆': 'chongqing',
                    '香港': 'xianggang',
                    '澳门': 'aomen',
                    '江苏大区': 'jiangsudaqu',
                    '华南大区': 'huanandaqu',
                    '中西大区': 'zhoangxidaqu',
                    '华中大区': 'huazhongdaqu',
                    '华东大区': 'huadongdaqu',
                    '华北大区': 'huabeidaqu',
                    '东北大区': 'dongbeidaqu',
                    '北方大区': 'beifangdaqu',
                    '东南大区': 'dongnandaqu',
                    '西南大区': 'xinandaqu'


                };
                var breadcrumb = {
                    type: 'group',
                    id: name,
                    left: pos.leftCur + pos.leftPlus,
                    top: pos.top + 3,
                    children: [{
                        type: 'polyline',
                        left: -90,
                        top: -5,
                        shape: {
                            points: line
                        },
                        style: {
                            stroke: '#fff',
                            key: name
                            // lineWidth: 2,
                        },
                        onclick: function () {
                            var name = this.style.key;
                            handleEvents.resetOption(chart, option, name);
                        }
                    }, {
                        type: 'text',
                        left: -68,
                        top: 'middle',
                        style: {
                            text: name,
                            textAlign: 'center',
                            fill: style.textColor,
                            font: style.font
                        },
                        onclick: function () {
                            var name = this.style.text;
                            //handleEvents.resetOption(chart, option, name);
                        }
                    }, {
                        type: 'text',
                        left: -68,
                        top: 10,
                        style: {

                            name: name,
                            text: cityToPinyin[name] ? cityToPinyin[name].toUpperCase() : '',
                            textAlign: 'center',
                            fill: style.textColor,
                            font: '12px "Microsoft YaHei", sans-serif',
                        },
                        onclick: function () {
                            // console.log(this.style);
                            var name = this.style.name;
                            //handleEvents.resetOption(chart, option, name);
                        }
                    }]
                }

                pos.leftCur += pos.leftPlus;

                return breadcrumb;
            },

            // 设置effectscatter
            initSeriesData: function (data) {
                var temp = [];
                for (var i = 0; i < data.length; i++) {
                    var geoCoord = geoCoordMap[data[i].name];
                    if (geoCoord) {
                        temp.push({
                            name: data[i].name,
                            value: geoCoord.concat(data[i].value),
                            merge: data[i].merge,
                            dataone: data[i].dataone,
                            datatwo: data[i].datatwo
                        });
                    }
                }
                ;
                return temp;
            },
            zoomAnimation: function () {
                var count = null;
                var zoom = function (per) {
                    if (!count) count = per;
                    count = count + per;
                    // console.log(per,count);
                    chart.setOption({
                        geo: {
                            zoom: count
                        }
                    });
                    if (count < 1) window.requestAnimationFrame(function () {
                        zoom(0.2);
                    });
                };
                window.requestAnimationFrame(function () {
                    zoom(0.2);
                });
            }
        };

        var option = {
            backgroundColor: opt.bgColor,
            tooltip: {
                show: true,
                alwaysShowContent: false,
                backgroundColor: 'rgba(50,50,50,0.7)',
                hideDelay: 100,
                triggerOn: 'mousemove',
                enterable: true,
                position: ['60%', '70%'],
                formatter: function (params, ticket, callback) {
                    return '大区名称：' + params.data.name + '大区' + '<br/>' + '年累容量：' + params.data.merge + '/MW' + '<br/>' + '未开工容量：' + params.data.dataone + '/MW' + '<br/>' + '在建容量：' + params.data.datatwo + '/MW';
                }
            },
            graphic: [{
                type: 'group',
                left: pos.left,
                top: pos.top - 4,
                children: [{
                    type: 'line',
                    left: 0,
                    top: -20,
                    shape: {
                        x1: 0,
                        y1: 0,
                        x2: 60,
                        y2: 0
                    },
                    style: {
                        stroke: style.lineColor,
                    }
                }, {
                    type: 'line',
                    left: 0,
                    top: 20,
                    shape: {
                        x1: 0,
                        y1: 0,
                        x2: 60,
                        y2: 0
                    },
                    style: {
                        stroke: style.lineColor,
                    }
                }]
            },
                {
                    id: name[idx],
                    type: 'group',
                    left: pos.left + 2,
                    top: pos.top,
                    children: [{
                        type: 'polyline',
                        left: 90,
                        top: -12,
                        shape: {
                            points: line
                        },
                        style: {
                            stroke: 'transparent',
                            key: name[0]
                        },
                        onclick: function () {
                            var name = this.style.key;
                            handleEvents.resetOption(chart, option, name);
                        }
                    }, {
                        type: 'text',
                        left: 0,
                        top: 'middle',
                        style: {
                            text: '中国',
                            textAlign: 'center',
                            fill: style.textColor,
                            font: style.font
                        },
                        onclick: function () {
                            option.tooltip.formatter = function (params, ticket, callback) {
                                return '大区名称：' + params.data.name + '大区' + '<br/>' + '年累容量：' + params.data.merge + '/MW' + '<br/>' + '未开工容量：' + params.data.dataone + '/MW' + '<br/>' + '在建容量：' + params.data.datatwo + '/MW';
                            }
                            option.series[1].data = allprovinceData;
                            opt.data = areaProjects;
                            handleEvents.resetOption(chart, option, 'china');
                        }
                    }, {
                        type: 'text',
                        left: 0,
                        top: 10,
                        style: {
                            text: 'China',
                            textAlign: 'center',
                            fill: style.textColor,
                            font: '12px "Microsoft YaHei", sans-serif',
                        },
                        onclick: function () {
                            option.tooltip.formatter = function (params, ticket, callback) {
                                return '大区名称：' + params.data.name + '大区' + '<br/>' + '年累容量：' + params.data.merge + '/MW' + '<br/>' + '未开工容量：' + params.data.dataone + '/MW' + '<br/>' + '在建容量：' + params.data.datatwo + '/MW';
                            }
                            option.series[1].data = allprovinceData;
                            opt.data = areaProjects;
                            handleEvents.resetOption(chart, option, 'china');
                        }
                    }]
                }],
            geo: {
                map: opt.mapName,
                roam: true,
                zoom: 1,
                label: {
                    normal: {
                        show: false,
                        textStyle: {
                            color: '#fff'
                        }
                    },
                    emphasis: {
                        textStyle: {
                            color: '#fff'
                        }
                    }
                },
                itemStyle: {
                    normal: {
                        borderColor: 'rgba(255, 255, 255, .5)',
                        borderWidth: 1,
                        areaColor: {
                            type: 'radial',
                            x: 0.5,
                            y: 0.5,
                            r: 0.8,
                            colorStops: [{
                                offset: 0,
                                color: 'rgba(147, 235, 248, 0)' // 0% 处的颜色
                            }, {
                                offset: 1,
                                color: 'rgba(147, 235, 248, .5)' // 100% 处的颜色
                            }],
                            globalCoord: false // 缺省为 false
                        },
                        shadowColor: 'rgba(255, 255, 255, .5)',
                        // shadowColor: 'rgba(255, 255, 255, 1)',
                        shadowOffsetX: -2,
                        shadowOffsetY: 2,
                        shadowBlur: 10
                    },
                    emphasis: {
                        areaColor: 'rgba(249,157,51, .9)',
                        borderWidth: 0
                    }
                },
                regions: opt.activeArea.map(function (item) {
                    if (typeof item !== 'string') {
                        return {
                            name: item.name,
                            itemStyle: {
                                normal: {
                                    areaColor: item.areaColor || '#389BB7'
                                }
                            },
                            label: {
                                normal: {
                                    show: item.showLabel,
                                    textStyle: {
                                        color: '#fff'
                                    }
                                }
                            }
                        }
                    } else {
                        return {
                            name: item,
                            itemStyle: {
                                normal: {
                                    borderColor: '#91e6ff',
                                    areaColor: '#389BB7'
                                }
                            }
                        }
                    }
                })
            },
            visualMap: {
                min: 0,
                max: 11,
                left: 'left',
                top: 'bottom',
                text: ['高', '低'],
                calculable: true,
                seriesIndex: '1',
                show: false,
                inRange: {
                    color: [
                        "#ffffff",
                        "#ffc188",
                        "#479fd2",
                        "#fba853",
                        "#48c7c0",
                        "#fa8737",
                        "#4bbdd6",
                        "#ff6f5b",
                        "#F4D5B1",
                        "#ADE1E3",
                        "#F4B387",
                        "#F0F3F4"
                    ]
                }
            },
            series: [{
                type: 'effectScatter',
                coordinateSystem: 'geo',
                showEffectOn: 'render',
                rippleEffect: {
                    period: 15,
                    scale: 4,
                    brushType: 'fill'
                },
                hoverAnimation: true,
                itemStyle: {
                    normal: {
                        color: '#FABC61',
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                data: handleEvents.initSeriesData(opt.data)
            }, {
                name: "map",
                type: 'map',
                mapType: 'china',
                geoIndex: 0,
                label: {
                    normal: {
                        show: true
                    },
                    emphasis: {
                        show: true
                    }
                },
                data: allprovinceData,
                tooltip: {
                    trigger: "item",
                    triggerOn: "mousemove",
                    backgroundColor: "rgba(0,0,0,.8)",
                    borderColor: "#3574c8",
                    borderWidth: "2",
                    extraCssText: "padding:10px;box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",
                    show: false,
                    formatter: function (params) {
                        var res;
                        if (params.value > 0) {
                            res = params.data.value2 + "<br/>";
                            res += params.data.value3;
                        } else {
                            res = "";
                        }
                        return res;
                    }
                },
            }],
        };

        chart.setOption(option);
        // 添加事件
        chart.on('click', function (params) {
            var _self = this;
            var cityDot = "";
            if (params.name == "江苏" || params.name == "上海") {
                params.name = '江苏'
            } else if (params.name == "广东" || params.name == "广西" || params.name == "海南") {
                params.name = '广东'
            } else if (params.name == "河南" || params.name == "陕西" || params.name == "甘肃" || params.name == "青海") {
                params.name = '河南'
            } else if (params.name == "湖北" || params.name == "江西" || params.name == ("湖南")) {
                params.name = '湖北'
            } else if (params.name == "山东" || params.name == "安徽") {
                params.name = '山东'
            } else if (params.name == "北京" || params.name == "河北" || params.name == "天津") {
                params.name = '北京'
            } else if (params.name == "黑龙江" || params.name == "吉林" || params.name == "辽宁") {
                params.name = '辽宁'
            } else if (params.name == "内蒙古" || params.name == "山西" || params.name == "新疆" || params.name == "宁夏") {
                params.name = '内蒙古'
            } else if (params.name == "浙江" || params.name == "福建") {
                params.name = '福建'
            } else if (params.name == "四川" || params.name == "西藏" || params.name == "重庆" || params.name == "云南" || params.name == "贵州") {
                params.name = '四川'
            }
            if (opt.goDown && params.name !== name[idx]) {
                if (cityMap[params.name]) {
                    var url = cityMap[params.name];
                    $.get(url, function (response) {
                        curGeoJson = response;
                        echarts.registerMap(params.name, response);
                        option.series[1].data = allCtyData;
                        option.tooltip.formatter = function (params, ticket, callback) {
                            return '项目名称：' + params.data.name + '<br/>' + '容量：' + params.data.dataone + '/MW' + '<br/>' + '本月新增容量：' + params.data.datatwo + '/MW' + '';
                        }
                        opt.data = provinceProJects;
                        handleEvents.resetOption(_self, option, params.name);
                    });
                }
                // }
            }
        });

        chart.on("mouseover", function (params) {
            var city = params.name;
            if (city == "黑龙江" || city == "吉林" || city == "辽宁") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "黑龙江"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "吉林"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "辽宁"
                });
            }
            if (city == "上海" || city == "江苏") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "上海"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "江苏"
                });
            }
            if (city == "北京" || city == "河北" || city == "天津") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "北京"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "河北"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "天津"
                });
            }
            if (city == "河南" || city == "陕西" || city == "甘肃" || city == "青海") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "河南"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "陕西"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "甘肃"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "青海"
                });
            }
            if (city == "广东" || city == "广西" || city == "海南" || city == "香港" || city == "澳门") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "广东"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "广西"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "海南"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "香港"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "澳门"
                });
            }
            if (city == "重庆" || city == "四川" || city == "贵州" || city == "云南" || city == "西藏") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "重庆"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "四川"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "贵州"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "云南"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "西藏"
                });
            }
            if (city == "湖南" || city == "湖北" || city == "江西") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "湖南"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "湖北"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "江西"
                });
            }
            if (city == "山东" || city == "安徽") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "山东"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "安徽"
                });
            }
            if (city == "浙江" || city == "福建") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "浙江"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "福建"
                });
            }
            if (city == "内蒙古" || city == "山西" || city == "新疆" || city == "宁夏") {
                chart.dispatchAction({
                    type: "highlight",
                    name: "内蒙古"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "山西"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "新疆"
                });
                chart.dispatchAction({
                    type: "highlight",
                    name: "宁夏"
                });
            }
        });
        chart.on("mouseout", function (params) {
            var city = params.name;
            if (city == "黑龙江" || city == "吉林" || city == "辽宁") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "黑龙江"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "吉林"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "辽宁"
                });
            }
            if (city == "上海" || city == "江苏") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "上海"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "江苏"
                });
            }
            if (city == "北京" || city == "河北" || city == "天津") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "北京"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "河北"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "天津"
                });
            }
            if (city == "河南" || city == "陕西" || city == "甘肃" || city == "青海") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "河南"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "陕西"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "甘肃"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "青海"
                });
            }
            if (city == "广东" || city == "广西" || city == "海南" || city == "香港" || city == "澳门") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "广东"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "广西"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "海南"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "香港"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "澳门"
                });
            }
            if (city == "重庆" || city == "四川" || city == "贵州" || city == "云南" || city == "西藏") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "重庆"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "四川"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "贵州"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "云南"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "西藏"
                });
            }
            if (city == "湖南" || city == "湖北" || city == "江西") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "湖南"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "湖北"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "江西"
                });
            }
            if (city == "山东" || city == "安徽") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "山东"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "安徽"
                });
            }
            if (city == "浙江" || city == "福建") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "浙江"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "福建"
                });
            }
            if (city == "内蒙古" || city == "山西" || city == "新疆" || city == "宁夏") {
                chart.dispatchAction({
                    type: "downplay",
                    name: "内蒙古"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "山西"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "新疆"
                });
                chart.dispatchAction({
                    type: "downplay",
                    name: "宁夏"
                });
            }
        });
        chart.setMap = function (mapName) {
            var _self = this;
            if (mapName.indexOf('市') < 0) mapName = mapName + '市';
            var citySource = cityMap[mapName];
            if (citySource) {
                var url = './map/' + citySource + '.json';
                $.get(url, function (response) {
                    // console.log(response);
                    curGeoJson = response;
                    echarts.registerMap(mapName, response);
                    handleEvents.resetOption(_self, option, mapName);
                });
            }

        };

        return chart;
    };

    $.getJSON(zhongguo, function (geoJson) {
        echarts.registerMap('china', geoJson);
        var myChart = echarts.extendsMap('chart-panel', {
            bgColor: '#154e90', // 画布背景色
            mapName: 'china', // 地图名
            text: 'by:wxw',
            goDown: true, // 是否下钻
            // 下钻回调
            callback: function (name, option, instance) {
                //console.log(name, option, instance);
            },
            // 数据展示
            data: areaProjects
        });
    })

</script>
</body>
</html>
